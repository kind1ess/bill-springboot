webpackJsonp([0],{"7+wr":function(t,e,a){"use strict";var l=a("3cXf"),r=a.n(l),i=a("gm1x"),n=a("Lkus").a+"/api/enter",s={findAllEnterPreview:function(){return Object(i.a)({url:n+"/findAllEnterPreview",method:"get"})},findEnterVoById:function(t){return Object(i.a)({url:n+"/findEnterVoById/"+t,method:"get"})},generateBillEnter:function(t){return Object(i.a)({url:n+"/generateBillEnter",data:r()(t),method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"}})}};e.a=s},"7dJR":function(t,e,a){"use strict";var l=a("fCQo"),r=a("bQIR"),i=(a("YaEn"),a("IcnI")),n={props:["statusId","showVerify","showAll"],data:function(){return{admin:{},returnPreviewList:[],verifyParams:{},returnVo:{listGoods:[{amount:0,commodityName:"string",goodsId:0,id:0,specificationName:"string",unit:"string"}],returnDto:{billId:"string",createTime:"2020-05-31T06:37:28.193Z",orderId:"string",statusId:0,statusName:"string",userAccount:"string",userAddress:"string",userId:"string",userTelephone:"string"}},billReturnTitle:[],dialogVisible:!1,currentPage:1,pageSize:8,total:0}},created:function(){this.admin=i.a.getters.admin,this.getTotal(),this.doGetPreviewLList()},methods:{handleDetailClick:function(t){var e=this;l.a.findReturnVoById(t).then(function(t){e.returnVo=t.data.data,e.billReturnTitle[0]=t.data.data.returnDto}).finally(function(){e.dialogVisible=!0})},handleVerify:function(t,e){var a=this;console.log(t,e),this.verifyParams.billId=t,this.verifyParams.statusId=e,l.a.verifyBillReturn(this.verifyParams).then(function(t){t&&r.Message.success("审核还车单成功！")}).finally(function(){a.doGetPreviewLList()})},doGetPreviewLList:function(){var t=this;this.showAll?l.a.findAllReturnPreviewVoPageBy(this.currentPage-1,this.pageSize).then(function(e){t.returnPreviewList=e.data.data.commonBillPreviewList}):l.a.findReturnPreviewVoByStatusIdPageBy(this.statusId,this.currentPage-1,this.pageSize).then(function(e){t.returnPreviewList=e.data.data.commonBillPreviewList})},getTotal:function(){var t=this;this.showAll?l.a.getCount().then(function(e){t.total=e.data.data}):l.a.getCountBy(this.statusId).then(function(e){t.total=e.data.data})},handleCurrentChange:function(t){this.currentPage=t,this.doGetPreviewLList()},handleSizeChange:function(t){this.pageSize=t,this.doGetPreviewLList()}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.returnPreviewList,border:"",height:"93%",stripe:""}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{label:"还车单编号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-s-order",staticStyle:{"margin-right":"15px"}}),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleDetailClick(e.row.billId)}}},[t._v(t._s(e.row.billId))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time",staticStyle:{"margin-right":"15px"}}),t._v(" "),a("span",[t._v(t._s(e.row.createTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[2===e.row.statusId?a("el-tag",{attrs:{type:"danger"}},[t._v(t._s(e.row.statusName))]):7===e.row.statusId?a("el-tag",{attrs:{type:"success"}},[t._v(t._s(e.row.statusName))]):a("el-tag",[t._v(t._s(e.row.statusName))])]}}])}),t._v(" "),t.showVerify?a("el-table-column",{attrs:{label:"审核",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",icon:"el-icon-close",circle:"",size:"small",disabled:!(1==t.admin.departmentId||7==t.admin.departmentId||8==t.admin.departmentId)},on:{click:function(a){return t.handleVerify(e.row.billId,2)}}}),t._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-check",circle:"",size:"small",disabled:!(1==t.admin.departmentId||7==t.admin.departmentId||8==t.admin.departmentId)},on:{click:function(a){return t.handleVerify(e.row.billId,6)}}})]}}],null,!1,4082064540)}):t._e()],1),t._v(" "),a("div",{staticClass:"footer"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next",background:"",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible,center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-table",{attrs:{data:t.billReturnTitle,border:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"table-expand",attrs:{"label-position":"left","label-width":"110px"}},[a("el-form-item",{attrs:{label:"还车单编号："}},[a("span",[t._v(t._s(e.row.billId))])]),t._v(" "),a("el-form-item",{attrs:{label:"创建时间："}},[a("span",[t._v(t._s(e.row.createTime))])]),t._v(" "),a("el-form-item",{attrs:{label:"关联订单编号："}},[a("span",[t._v(t._s(e.row.orderId))])]),t._v(" "),a("el-form-item",{attrs:{label:"用户编号"}},[a("span",[t._v(t._s(e.row.userId))])]),t._v(" "),a("el-form-item",{attrs:{label:"用户账号："}},[a("span",[t._v(t._s(e.row.userAccount))])]),t._v(" "),a("el-form-item",{attrs:{label:"用户电话："}},[a("span",[t._v(t._s(e.row.userTelephone))])]),t._v(" "),a("el-form-item",{attrs:{label:"用户地址："}},[a("span",[t._v(t._s(e.row.userAddress))])]),t._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("span",[t._v(t._s(e.row.statusName))])])],1)]}}],null,!1,1978670431)}),t._v(" "),a("el-table-column",{attrs:{label:"还车单编号",prop:"billId"}}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"statusName"}})],1),t._v(" "),a("div",{staticClass:"goods_list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.returnVo.listGoods,border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsId",label:"产品编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"commodityName",label:"产品名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"specificationName",label:"产品规格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"归还数量"}})],1)],1)],1)],1)},staticRenderFns:[]};var o=a("C7Lr")(n,s,!1,function(t){a("MvDp")},"data-v-6e9187ad",null);e.a=o.exports},CAx2:function(t,e,a){"use strict";var l=a("cJyC"),r=(a("bQIR"),a("YaEn"),a("IcnI")),i={props:["statusId","showAll"],data:function(){return{admin:{},billPreviewList:[],purchaseVo:{listGoods:[{amount:0,commodityName:"string",goodsId:0,id:0,price:0,refBillId:"string",specificationName:"string",sumPrice:0,unit:"string"}],purchaseDto:{address:"string",billId:"string",createTime:"2020-06-03T14:30:58.093Z",sendTime:"string",staffId:"string",staffName:"string",staffTelephone:"string",statusId:0,statusName:"string",updateTime:"2020-06-03T14:30:58.093Z"}},billPurchaseTitle:[],dialogVisible:!1,currentPage:1,pageSize:8,total:0}},created:function(){this.admin=r.a.getters.admin,this.getTotal(),this.showTable()},methods:{handleDetailClick:function(t){var e=this;l.a.findPurchaseVoById(t).then(function(t){e.purchaseVo=t.data.data,e.billPurchaseTitle[0]=t.data.data.purchaseDto,e.dialogVisible=!0})},getSummaries:function(t){var e=t.columns,a=t.data,l=[];return e.forEach(function(t,e){if(0!==e){var r=a.map(function(e){return Number(e[t.property])});r.every(function(t){return isNaN(t)})||8!==e?l[e]="N/A":(l[e]=r.reduce(function(t,e){var a=Number(e);return isNaN(a)?t:t+e},0),l[e]+=" 元")}else l[e]="总价"}),l},showTable:function(){var t=this;this.showAll?l.a.findAllPurchasePreviewPageBy(this.currentPage-1,this.pageSize).then(function(e){t.billPreviewList=e.data.data.billPreviewList}):l.a.findAllPurchasePreviewByStatusIdPageBy(this.statusId,this.currentPage-1,this.pageSize).then(function(e){t.billPreviewList=e.data.data.billPreviewList})},getTotal:function(){var t=this;this.showAll?l.a.getCount().then(function(e){t.total=e.data.data}):l.a.getCountBy(this.statusId).then(function(e){t.total=e.data.data})},handleCurrentChange:function(t){this.currentPage=t,this.showTable()},handleSizeChange:function(t){this.pageSize=t,this.showTable()}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.billPreviewList,border:"",height:"93%",stripe:""}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{label:"采购单编号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-s-order",staticStyle:{"margin-right":"15px"}}),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleDetailClick(e.row.billId)}}},[t._v(t._s(e.row.billId))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time",staticStyle:{"margin-right":"15px"}}),t._v(" "),a("span",[t._v(t._s(e.row.createTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"修改时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time",staticStyle:{"margin-right":"15px"}}),t._v(" "),a("span",[t._v(t._s(e.row.updateTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[7===e.row.statusId?a("el-tag",{attrs:{type:"success"}},[t._v(t._s(e.row.statusName))]):a("el-tag",[t._v(t._s(e.row.statusName))])]}}])})],1),t._v(" "),a("div",{staticClass:"footer"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next",background:"",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible,center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-table",{attrs:{data:t.billPurchaseTitle,border:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"table-expand",attrs:{"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"采购单编号："}},[a("span",[t._v(t._s(e.row.billId))])]),t._v(" "),a("el-form-item",{attrs:{label:"创建时间："}},[a("span",[t._v(t._s(e.row.createTime))])]),t._v(" "),a("el-form-item",{attrs:{label:"修改时间："}},[a("span",[t._v(t._s(e.row.updateTime))])]),t._v(" "),a("el-form-item",{attrs:{label:"发货时间："}},[a("span",[t._v(t._s(e.row.sendTime))])]),t._v(" "),a("el-form-item",{attrs:{label:"收货地址："}},[a("span",[t._v(t._s(e.row.address))])]),t._v(" "),a("el-form-item",{attrs:{label:"员工编号："}},[a("span",[t._v(t._s(e.row.staffId))])]),t._v(" "),a("el-form-item",{attrs:{label:"员工账号："}},[a("span",[t._v(t._s(e.row.staffName))])]),t._v(" "),a("el-form-item",{attrs:{label:"员工电话："}},[a("span",[t._v(t._s(e.row.staffTelephone))])]),t._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("span",[t._v(t._s(e.row.statusName))])])],1)]}}],null,!1,2738261497)}),t._v(" "),a("el-table-column",{attrs:{label:"编号",prop:"billId","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}),t._v(" "),a("el-table-column",{attrs:{label:"修改时间",prop:"updateTime"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"statusName"}})],1),t._v(" "),a("div",{staticClass:"goods_list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.purchaseVo.listGoods,border:"","show-summary":"","summary-method":t.getSummaries}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"refBillId",label:"关联缺货单编号","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsId",label:"产品编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"commodityName",label:"产品名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"specificationName",label:"产品规格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"产品单价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"订货数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sumPrice",label:"小计"}})],1)],1)],1)],1)},staticRenderFns:[]};var s=a("C7Lr")(i,n,!1,function(t){a("YQer")},"data-v-bfd14284",null);e.a=s.exports},FSFQ:function(t,e,a){"use strict";var l=a("3cXf"),r=a.n(l),i=a("gm1x"),n=a("Lkus").a+"/api/shortage",s={findAllShortagePreviewVo:function(){return Object(i.a)({url:n+"/findAllShortagePreviewVo",method:"get"})},findAllShortagePreviewVoPageBy:function(t,e){return Object(i.a)({url:n+"/findAllShortagePreviewVo/"+t+"/"+e,method:"get"})},findAllShortagePreviewVoByStatusId:function(t){return Object(i.a)({url:n+"/findAllShortagePreviewVo/"+t,method:"get"})},findAllShortagePreviewVoByStatusIdPageBy:function(t,e,a){return Object(i.a)({url:n+"/findAllShortagePreviewVo/"+t+"/"+e+"/"+a,method:"get"})},findShortageVoById:function(t){return Object(i.a)({url:n+"/findShortageVoById/"+t,method:"get"})},generateShortage:function(t){return Object(i.a)({url:n+"/generateShortage",data:r()(t),headers:{"Content-Type":"application/json;charset=UTF-8"},method:"post"})},getCount:function(){return Object(i.a)({url:n+"/getCount",method:"get"})},getCountByStatusId:function(t){return Object(i.a)({url:n+"/getCount/"+t,method:"get"})}};e.a=s},Iz8z:function(t,e,a){"use strict";var l=a("FWz8"),r=a("bQIR"),i=(a("YaEn"),a("IcnI")),n={props:["statusId","showVerify"],data:function(){return{admin:{},orderPreviewList:[],verifyParams:{},orderVo:{orderDto:{}},billOrderTitle:[],dialogVisible:!1,currentPage:1,pageSize:8,total:0}},created:function(){this.admin=i.a.getters.admin,this.getTotal(),this.showTable(this.statusId,this.currentPage-1,this.pageSize)},methods:{handleDetailClick:function(t){var e=this;l.a.findOrderVo(t).then(function(t){e.orderVo=t.data.data,e.billOrderTitle[0]=t.data.data.orderDto,e.dialogVisible=!0})},handleVerify:function(t,e){var a=this;console.log(t,e),this.verifyParams.billId=t,this.verifyParams.statusId=e,l.a.verifyOrder(this.verifyParams).then(function(t){t&&r.Message.success("审核订单完成！")}).finally(function(){a.showTable(a.statusId,a.currentPage-1,a.pageSize)})},getSummaries:function(t){var e=t.columns,a=t.data,l=[];return e.forEach(function(t,e){if(0!==e){var r=a.map(function(e){return Number(e[t.property])});r.every(function(t){return isNaN(t)})||7!==e?l[e]="N/A":(l[e]=r.reduce(function(t,e){var a=Number(e);return isNaN(a)?t:t+e},0),l[e]+=" 元")}else l[e]="总价"}),l},showTable:function(t,e,a){var r=this;l.a.findOrderPreviewVoByStatusIdPageBy(t,e,a).then(function(t){r.orderPreviewList=t.data.data.orderPreviewDtoList})},getTotal:function(){var t=this;l.a.getCountBy(this.statusId).then(function(e){t.total=e.data.data})},handleCurrentChange:function(t){this.currentPage=t,this.showTable(this.statusId,this.currentPage-1,this.pageSize)},handleSizeChange:function(t){this.pageSize=t,this.showTable(this.statusId,this.currentPage-1,this.pageSize)}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.orderPreviewList,border:"",height:"93%",stripe:""}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{label:"订单编号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-s-order",staticStyle:{"margin-right":"15px"}}),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleDetailClick(e.row.billId)}}},[t._v(t._s(e.row.billId))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time",staticStyle:{"margin-right":"15px"}}),t._v(" "),a("span",[t._v(t._s(e.row.createTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[2===e.row.statusId?a("el-tag",{attrs:{type:"danger"}},[t._v(t._s(e.row.statusName))]):5===e.row.statusId||10===e.row.statusId?a("el-tag",{attrs:{type:"success"}},[t._v(t._s(e.row.statusName))]):a("el-tag",[t._v(t._s(e.row.statusName))])]}}])}),t._v(" "),t.showVerify?a("el-table-column",{attrs:{label:"审核",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",icon:"el-icon-close",circle:"",size:"small",disabled:!(1==t.admin.departmentId||7==t.admin.departmentId||8==t.admin.departmentId)},on:{click:function(a){return t.handleVerify(e.row.billId,2)}}}),t._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-check",circle:"",size:"small",disabled:!(1==t.admin.departmentId||7==t.admin.departmentId||8==t.admin.departmentId)},on:{click:function(a){return t.handleVerify(e.row.billId,3)}}})]}}],null,!1,4175803289)}):t._e()],1),t._v(" "),a("div",{staticClass:"footer"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next",background:"",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible,center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-table",{attrs:{data:t.billOrderTitle,border:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"table-expand",attrs:{"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"订单编号："}},[a("span",[t._v(t._s(e.row.billId))])]),t._v(" "),a("el-form-item",{attrs:{label:"创建时间："}},[a("span",[t._v(t._s(e.row.createTime))])]),t._v(" "),a("el-form-item",{attrs:{label:"用户编号："}},[a("span",[t._v(t._s(e.row.userId))])]),t._v(" "),a("el-form-item",{attrs:{label:"用户账号："}},[a("span",[t._v(t._s(e.row.userAccount))])]),t._v(" "),a("el-form-item",{attrs:{label:"用户电话："}},[a("span",[t._v(t._s(e.row.userTelephone))])]),t._v(" "),a("el-form-item",{attrs:{label:"用户地址："}},[a("span",[t._v(t._s(e.row.userAddress))])]),t._v(" "),a("el-form-item",{attrs:{label:"订单状态："}},[a("span",[t._v(t._s(e.row.statusName))])])],1)]}}],null,!1,220134246)}),t._v(" "),a("el-table-column",{attrs:{label:"订单编号",prop:"billId"}}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}),t._v(" "),a("el-table-column",{attrs:{label:"订单状态",prop:"statusName"}})],1),t._v(" "),a("div",{staticClass:"goods_list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.orderVo.goodsVoList,border:"","show-summary":"","summary-method":t.getSummaries}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsId",label:"产品编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"commodityName",label:"产品名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"specificationName",label:"产品规格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"产品单价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"订货数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sumPrice",label:"小计"}})],1)],1)],1)],1)},staticRenderFns:[]};var o=a("C7Lr")(n,s,!1,function(t){a("dLdC")},"data-v-5b53e6b2",null);e.a=o.exports},MvDp:function(t,e){},OeBA:function(t,e,a){"use strict";var l=a("sQkU"),r=(a("bQIR"),a("YaEn"),a("IcnI")),i={props:["statusId","showAll"],data:function(){return{admin:{},checkPreviewList:[],checkVo:{checkDto:{billId:"string",createTime:"2020-05-31T08:55:37.142Z",staffId:"string",staffName:"string",staffTelephone:"string",statusId:0,statusName:"string",updateTime:"2020-05-31T08:55:37.142Z"},listGoods:[{actualAmount:0,amount:0,commodityName:"string",goodsId:0,id:0,refBillId:"string",remark:"string",specificationName:"string",unit:"string"}]},billCheckTitle:[],dialogVisible:!1,currentPage:1,pageSize:8,total:0}},created:function(){this.admin=r.a.getters.admin,this.getTotal(),this.doGetPreviewLList()},methods:{handleDetailClick:function(t){var e=this;l.a.findCheckVoById(t).then(function(t){e.checkVo=t.data.data,e.billCheckTitle[0]=t.data.data.checkDto}).finally(function(){e.dialogVisible=!0})},doGetPreviewLList:function(){var t=this;this.showAll?l.a.findAllCheckPreviewPageBy(this.currentPage-1,this.pageSize).then(function(e){t.checkPreviewList=e.data.data.billPreviewList}):l.a.findCheckPreviewByStatusIdPageBy(this.statusId,this.currentPage-1,this.pageSize).then(function(e){t.checkPreviewList=e.data.data.billPreviewList})},getTotal:function(){var t=this;this.showAll?l.a.getCount().then(function(e){t.total=e.data.data}):l.a.getCountBy(this.statusId).then(function(e){t.total=e.data.data})},handleCurrentChange:function(t){this.currentPage=t,this.doGetPreviewLList()},handleSizeChange:function(t){this.pageSize=t,this.doGetPreviewLList()}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.checkPreviewList,border:"",height:"93%",stripe:""}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{label:"验收单编号",width:"380px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-s-order",staticStyle:{"margin-right":"15px"}}),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleDetailClick(e.row.billId)}}},[t._v(t._s(e.row.billId))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time",staticStyle:{"margin-right":"15px"}}),t._v(" "),a("span",[t._v(t._s(e.row.createTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"更新时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time",staticStyle:{"margin-right":"15px"}}),t._v(" "),a("span",[t._v(t._s(e.row.updateTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[9===e.row.statusId?a("el-tag",{attrs:{type:"success"}},[t._v(t._s(e.row.statusName))]):a("el-tag",[t._v(t._s(e.row.statusName))])]}}])})],1),t._v(" "),a("div",{staticClass:"footer"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next",background:"",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible,center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-table",{attrs:{data:t.billCheckTitle,border:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"table-expand",attrs:{"label-position":"left","label-width":"110px"}},[a("el-form-item",{attrs:{label:"验收单编号："}},[a("span",[t._v(t._s(e.row.billId))])]),t._v(" "),a("el-form-item",{attrs:{label:"创建时间："}},[a("span",[t._v(t._s(e.row.createTime))])]),t._v(" "),a("el-form-item",{attrs:{label:"更新时间："}},[a("span",[t._v(t._s(e.row.updateTime))])]),t._v(" "),a("el-form-item",{attrs:{label:"员工编号："}},[a("span",[t._v(t._s(e.row.staffId))])]),t._v(" "),a("el-form-item",{attrs:{label:"员工姓名"}},[a("span",[t._v(t._s(e.row.staffName))])]),t._v(" "),a("el-form-item",{attrs:{label:"员工电话"}},[a("span",[t._v(t._s(e.row.staffTelephone))])]),t._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("span",[t._v(t._s(e.row.statusName))])])],1)]}}],null,!1,515693982)}),t._v(" "),a("el-table-column",{attrs:{label:"验收单编号",prop:"billId","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}),t._v(" "),a("el-table-column",{attrs:{label:"更新时间",prop:"updateTime"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"statusName"}})],1),t._v(" "),a("div",{staticClass:"goods_list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.checkVo.listGoods,border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"refBillId",label:"关联单据编号","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsId",label:"产品编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"commodityName",label:"产品名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"specificationName",label:"产品规格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"应收数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"actualAmount",label:"实收数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}})],1)],1)],1)],1)},staticRenderFns:[]};var s=a("C7Lr")(i,n,!1,function(t){a("al+y")},"data-v-13f4c329",null);e.a=s.exports},VWPp:function(t,e,a){"use strict";var l=a("FSFQ"),r=(a("bQIR"),a("YaEn"),{props:["statusId","showAll"],data:function(){return{billPreviewList:[],shortageVo:{adminBillTitle:{billId:"string",createTime:"2020-06-03T13:56:51.945Z",staffId:"string",staffName:"string",staffTelephone:"string",statusId:0,statusName:"string",updateTime:"2020-06-03T13:56:51.945Z"},listGoods:[{amount:0,commodityName:"string",goodsId:0,id:0,specificationName:"string",unit:"string"}]},billShortageTitle:[],dialogVisible:!1,showDialog:!1,currentPage:1,pageSize:8,total:0}},created:function(){this.getTotal(),this.showTable()},methods:{handleDetailClick:function(t){var e=this;l.a.findShortageVoById(t).then(function(t){e.shortageVo=t.data.data,e.billShortageTitle[0]=t.data.data.adminBillTitle,e.showDialog=!0,e.dialogVisible=!0})},showTable:function(){var t=this;this.showAll?l.a.findAllShortagePreviewVoPageBy(this.currentPage-1,this.pageSize).then(function(e){t.billPreviewList=e.data.data.billPreviewList}):l.a.findAllShortagePreviewVoByStatusIdPageBy(this.statusId,this.currentPage-1,this.pageSize).then(function(e){t.billPreviewList=e.data.data.billPreviewList})},getTotal:function(){var t=this;this.showAll?l.a.getCount().then(function(e){t.total=e.data.data}):l.a.getCountByStatusId(this.statusId).then(function(e){t.total=e.data.data})},handleCurrentChange:function(t){this.currentPage=t,this.showTable()},handleSizeChange:function(t){this.pageSize=t,this.showTable()}}}),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.billPreviewList,border:"",height:"93%",stripe:""}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{label:"缺货单编号",width:"380px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-s-order",staticStyle:{"margin-right":"15px"}}),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleDetailClick(e.row.billId)}}},[t._v(t._s(e.row.billId))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time",staticStyle:{"margin-right":"15px"}}),t._v(" "),a("span",[t._v(t._s(e.row.createTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"更新时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time",staticStyle:{"margin-right":"15px"}}),t._v(" "),a("span",[t._v(t._s(e.row.updateTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[12===e.row.statusId?a("el-tag",{attrs:{type:"success"}},[t._v(t._s(e.row.statusName))]):a("el-tag",[t._v(t._s(e.row.statusName))])]}}])})],1),t._v(" "),a("div",{staticClass:"footer"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next",background:"",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",[a("el-dialog",{attrs:{visible:t.dialogVisible,center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-table",{attrs:{data:t.billShortageTitle,border:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"table-expand",attrs:{"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"单据编号："}},[a("span",[t._v(t._s(e.row.billId))])]),t._v(" "),a("el-form-item",{attrs:{label:"创建时间："}},[a("span",[t._v(t._s(e.row.createTime))])]),t._v(" "),a("el-form-item",{attrs:{label:"修改时间："}},[a("span",[t._v(t._s(e.row.updateTime))])]),t._v(" "),a("el-form-item",{attrs:{label:"员工编号："}},[a("span",[t._v(t._s(e.row.staffId))])]),t._v(" "),a("el-form-item",{attrs:{label:"员工姓名："}},[a("span",[t._v(t._s(e.row.staffName))])]),t._v(" "),a("el-form-item",{attrs:{label:"员工电话："}},[a("span",[t._v(t._s(e.row.staffTelephone))])]),t._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("span",[t._v(t._s(e.row.statusName))])])],1)]}}],null,!1,3134300344)}),t._v(" "),a("el-table-column",{attrs:{label:"单据编号",prop:"billId","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}),t._v(" "),a("el-table-column",{attrs:{label:"更新时间",prop:"updateTime"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"statusName"}})],1),t._v(" "),a("div",{staticClass:"goods_list"},[a("el-table",{staticClass:"tb-edit",staticStyle:{width:"100%"},attrs:{data:t.shortageVo.listGoods,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsId",label:"产品编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"commodityName",label:"产品名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"specificationName",label:"产品规格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"缺货数量"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var n=a("C7Lr")(r,i,!1,function(t){a("gO0l")},"data-v-f496bb34",null);e.a=n.exports},YQer:function(t,e){},"al+y":function(t,e){},cJyC:function(t,e,a){"use strict";var l=a("3cXf"),r=a.n(l),i=a("gm1x"),n=a("Lkus").a+"/api/purchase",s={findAllPurchasePreview:function(){return Object(i.a)({url:n+"/findAllPurchasePreview",method:"get"})},findAllPurchasePreviewPageBy:function(t,e){return Object(i.a)({url:n+"/findAllPurchasePreview/"+t+"/"+e,method:"get"})},findAllPurchasePreviewByStatusId:function(t){return Object(i.a)({url:n+"/findAllPurchasePreview/"+t,method:"get"})},findAllPurchasePreviewByStatusIdPageBy:function(t,e,a){return Object(i.a)({url:n+"/findAllPurchasePreview/"+t+"/"+e+"/"+a,method:"get"})},findPurchaseVoById:function(t){return Object(i.a)({url:n+"/findPurchaseVoById/"+t,method:"get"})},generatePurchase:function(t){return Object(i.a)({url:n+"/generatePurchase",data:r()(t),headers:{"Content-Type":"application/json;charset=UTF-8"},method:"post"})},getCount:function(){return Object(i.a)({url:n+"/getCount",method:"get"})},getCountBy:function(t){return Object(i.a)({url:n+"/getCount/"+t,method:"get"})}};e.a=s},dLdC:function(t,e){},ehIy:function(t,e,a){"use strict";var l=a("3cXf"),r=a.n(l),i=a("gm1x"),n=a("Lkus"),s="/api/invoice",o={findAllInvoicePreviewVoPageBy:function(t,e){return Object(i.a)({url:""+n.a+s+"/findAllInvoicePreviewVo/"+t+"/"+e,method:"get"})},findAllInvoicePreviewVo:function(){return Object(i.a)({url:""+n.a+s+"/findAllInvoicePreviewVo",method:"get"})},getCount:function(){return Object(i.a)({url:""+n.a+s+"/getCount",method:"get"})},findInvoiceVoById:function(t){return Object(i.a)({url:""+n.a+s+"/findInvoiceVoById/"+t,method:"get"})},generateInvoiceList:function(t){return Object(i.a)({url:""+n.a+s+"/generateInvoiceList",data:r()(t),method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"}})}};e.a=o},gO0l:function(t,e){},sQkU:function(t,e,a){"use strict";var l=a("3cXf"),r=a.n(l),i=a("gm1x"),n=a("Lkus").a+"/api/check",s={findAllCheckPreview:function(){return Object(i.a)({url:n+"/findAllCheckPreview",method:"get"})},findAllCheckPreviewPageBy:function(t,e){return Object(i.a)({url:n+"/findAllCheckPreview/"+t+"/"+e,method:"get"})},findCheckPreviewByStatusId:function(t){return Object(i.a)({url:n+"/findCheckPreviewByStatusId/"+t,method:"get"})},findCheckPreviewByStatusIdPageBy:function(t,e,a){return Object(i.a)({url:n+"/findCheckPreviewByStatusId/"+t+"/"+e+"/"+a,method:"get"})},findCheckVoById:function(t){return Object(i.a)({url:n+"/findCheckVoById/"+t,method:"get"})},generateBillCheck:function(t){return Object(i.a)({url:n+"/generateBillCheck",data:r()(t),method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"}})},getCount:function(){return Object(i.a)({url:n+"/getCount",method:"get"})},getCountBy:function(t){return Object(i.a)({url:n+"/getCount/"+t,method:"get"})}};e.a=s}});
//# sourceMappingURL=0.88fb3f69e56b008fcf0c.js.map